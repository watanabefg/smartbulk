<% weight = [] %>
<% bodyfatPer = [] %>
<% date = [] %>
<% weight, bodyfatPer, date =  get_user_record('week') %>
<% wmax = weight.max.to_f + 10 %>
<script type="text/javascript">
  var weekChart = document.getElementById("week-chart");
  new Chart(weekChart, {
    type: 'line', 
    data: {
      labels: <%= date.to_json.html_safe %>,
      datasets: [
      {
          label: 'Weight',
          data: <%= weight %>,
          //borderColor: '#FF6384',
          backgroundColor: '#ce5b14',
          borderColor: '#ce5b14',
          fill:false,
      },
      {
          label: 'Body fat percentage',
          data: <%= bodyfatPer %>,
          //borderColor: "rgb(75, 192, 192)",
          backgroundColor: "#7bbb5e",
          borderColor: "#7bbb5e",
          fill:false,
      },
      ],
    },
    options: {
      scales: {
        xAxes: [{
          time: {
            unit: 'month'
          }
        }],
        yAxes: [{
            id: "y-axis-1",   // Y軸のID
            position: "left", // どちら側に表示される軸か？          
            ticks: {          // スケール
                max: <%= wmax %>,
            },
        }],             
      },
    animation: false,
    }
  });
  
  <% weight, bodyfatPer, date =  get_user_record('month') %>
  <% wmax = weight.max.to_f + 10 %>
  var monthChart = document.getElementById("month-chart");
  new Chart(monthChart, {
    type: 'line', 
    data: {
      labels: <%= date.to_json.html_safe %>,
      datasets: [
      {
          label: 'Weight',
          data: <%= weight %>,
          //borderColor: '#FF6384',
          backgroundColor: '#ce5b14',
          borderColor: '#ce5b14',
          fill:false,
      },
      {
          label: 'Body fat percentage',
          data: <%= bodyfatPer %>,
          //borderColor: "rgb(75, 192, 192)",
          backgroundColor: "#7bbb5e",
          borderColor: "#7bbb5e",
          fill:false,
      },
      ],
    },
    options: {
      scales: {
        xAxes: [{
          time: {
            unit: 'month'
          }
        }],
        yAxes: [{
            id: "y-axis-1",   // Y軸のID
            position: "left", // どちら側に表示される軸か？          
            ticks: {          // スケール
                max: <%= wmax %>,
            },
        }],             
      },
    animation:false,
    }
  });  
  <% weight, bodyfatPer, date =  get_user_record('three_month') %>
  <% wmax = weight.max.to_f + 10 %>
  var month3Chart = document.getElementById("month3-chart");
  new Chart(month3Chart, {
    type: 'line', 
    data: {
      labels: <%= date.to_json.html_safe %>,
      datasets: [
      {
          label: 'Weight',
          data: <%= weight %>,
          //borderColor: '#FF6384',
          backgroundColor: '#ce5b14',
          borderColor: '#ce5b14',
          fill:false,
      },
      {
          label: 'Body fat percentage',
          data: <%= bodyfatPer %>,
          //borderColor: "rgb(75, 192, 192)",
          backgroundColor: "#7bbb5e",
          borderColor: "#7bbb5e",
          fill:false,
      },
      ],
    },
    options: {
      scales: {
        xAxes: [{
          time: {
            unit: 'month'
          }
        }],
        yAxes: [{
            id: "y-axis-1",   // Y軸のID
            position: "left", // どちら側に表示される軸か？          
            ticks: {          // スケール
                max: <%= wmax %>,
            },
        }],             
      },
    animation:false,
    }
  });  
  <% weight, bodyfatPer, date =  get_user_record('six_month') %>
  <% wmax = weight.max.to_f + 10 %>
  var month6Chart = document.getElementById("month6-chart");
  new Chart(month6Chart, {
    type: 'line', 
    data: {
      labels: <%= date.to_json.html_safe %>,
      datasets: [
      {
          label: 'Weight',
          data: <%= weight %>,
          //borderColor: '#FF6384',
          backgroundColor: '#ce5b14',
          borderColor: '#ce5b14',
          fill:false,
      },
      {
          label: 'Body fat percentage',
          data: <%= bodyfatPer %>,
          //borderColor: "rgb(75, 192, 192)",
          backgroundColor: "#7bbb5e",
          borderColor: "#7bbb5e",
          fill:false,
      },
      ],
    },
    options: {
      scales: {
        xAxes: [{
          time: {
            unit: 'month'
          }
        }],
        yAxes: [{
            id: "y-axis-1",   // Y軸のID
            position: "left", // どちら側に表示される軸か？          
            ticks: {          // スケール
                max: <%= wmax %>,
            },
        }],             
      },
    animation:false,
    }
  });    
</script>